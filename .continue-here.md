---
status: in_progress
last_updated: 2026-02-28T20:49:48Z
---

<current_state>
Mid-session, no active GSD phase. Working on Strava API certification prep.
Paused while about to implement two Strava compliance fixes.
</current_state>

<completed_work>

- Landing page improvements: CTA order fix, header auth buttons, social proof line, CTA height, SVG illustrations redesigned
- Privacy Policy page at /privacy (mytrainingplan.io, Switzerland, privacy@mytrainingplan.io)
- Terms of Service page at /terms (hello@mytrainingplan.io)
- Landing page footer with privacy/terms links
- Fixed TypeScript error in src/lib/resolve-source-document.ts (TS7022 circular inference)
- Deployed to production: https://www.mytrainingplan.io
- Claude Code automations: typecheck hook, env protection hook, auth security reviewer agent, context7 MCP
- Strava compliance audit completed

</completed_work>

<remaining_work>

## Strava Compliance Fixes (in progress — files read, not yet edited)

### Fix 1: Connect button minimum 48px height
- File: src/app/strava/strava.css (or wherever .strava-connect-btn is defined)
- Also check: src/components/StravaSyncPanel.tsx for the button usage on the landing page
- Requirement: Strava requires "Connect with Strava" button to be min 48px tall

### Fix 2: "View on Strava" links in StravaActivityMatchTable
- File: src/components/StravaActivityMatchTable.tsx
- Each StravaActivityRow has an `id` field (the Strava activity ID)
- Need to add a "View on Strava" link: https://www.strava.com/activities/{row.id}
- Must be legible, clearly a link, formatted bold/underline or orange (#FC5200)
- Place it in the activity row display area

### After fixes:
- Commit and push
- Submit Strava API form at: https://share.hsforms.com/1VXSwPUYqSH6IxK0y51FjHwcnkd8

</remaining_work>

<decisions_made>

- Domain: https://www.mytrainingplan.io (not coachplan.app)
- Contact emails: privacy@mytrainingplan.io, hello@mytrainingplan.io
- Governing law: Switzerland
- Strava scopes: read, activity:read_all (read-only, no write)
- Rate limiting not handled — noted as risk but not blocking certification

</decisions_made>

<blockers>

- Playwright MCP browser broken (Chrome already running with same profile) — use `npx playwright screenshot` CLI workaround for screenshots

</blockers>

<context>
Working toward Strava API certification to allow more than sandbox users.
All pages are live. Two small compliance fixes remain before submitting the HubSpot form.
The StravaActivityMatchTable already has StravaActivityRow.id which is the numeric Strava activity ID.
</context>

<next_action>
1. Read src/components/StravaActivityMatchTable.tsx fully to find where activity rows are rendered
2. Add "View on Strava" link (orange, href=https://www.strava.com/activities/{row.id}) to each Strava activity row
3. Read strava.css / StravaSyncPanel to find .strava-connect-btn and ensure min-height: 48px
4. Commit and push both fixes
5. Submit form at https://share.hsforms.com/1VXSwPUYqSH6IxK0y51FjHwcnkd8
</next_action>
